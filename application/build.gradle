plugins {
    id 'application'
    id 'extra-java-module-info' // apply my own plugin written in buildSrc
}

extraJavaModuleInfo {
    automaticModule("flyway-core-10.9.1.jar", "org.flywaydb.core")
}

java {
    modularity.inferModulePath = true
}

tasks.named("compileJava") {
    options.javaModuleVersion = provider { project.version }    
}

dependencies {
    implementation 'org.flywaydb:flyway-core:10.9.1'
}

application {
    mainModule = 'org.gradle.sample.app'
    mainClass = 'org.gradle.sample.app.Main'
}


